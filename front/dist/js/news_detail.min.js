function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var e=s.val(),t=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:e,news_id:t},success:function(e){if(console.log(e),200===e.code){var t=e.data;console.log("======");var n=template("comment-item",{comment:t}),o=$(".comment-list");console.log(o),o.prepend(n),window.messageBox.showSuccess("评论发表成功！"),s.val("")}else window.messageBox.showError(e.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwiY29tbWVudExpc3RHcm91cCIsInByZXBlbmQiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJzaG93RXJyb3IiLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxZQUlUQSxTQUFTQyxVQUFVQyxrQkFBb0IsV0FDbkMsSUFBSUMsRUFBWUMsRUFBRSxlQUNkQyxFQUFXRCxFQUFFLDRCQUNqQkQsRUFBVUcsTUFBTSxXQUNaLElBQUlDLEVBQVVGLEVBQVNHLE1BQ25CQyxFQUFVTixFQUFVTyxLQUFLLGdCQUM3QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLHdCQUNQQyxLQUFPLENBQ0hQLFFBQVdBLEVBQ1hFLFFBQVdBLEdBRWZNLFFBQVcsU0FBVUMsR0FFakIsR0FEQUMsUUFBUUMsSUFBSUYsR0FDVSxNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlHLEVBQVVILEVBQWEsS0FDM0JDLFFBQVFDLElBQUksVUFDWixJQUFJRSxFQUFNQyxTQUFTLGVBQWUsQ0FBQ0YsUUFBVUEsSUFDekNHLEVBQW1CbEIsRUFBRSxpQkFDekJhLFFBQVFDLElBQUlJLEdBQ1pBLEVBQWlCQyxRQUFRSCxHQUN6QkksT0FBT0MsV0FBV0MsWUFBWSxXQUM5QnJCLEVBQVNHLElBQUksU0FFYmdCLE9BQU9DLFdBQVdFLFVBQVVYLEVBQWdCLGVBT2hFaEIsU0FBU0MsVUFBVTJCLElBQU0sV0FDckJDLEtBQUszQixxQkFJVEUsRUFBRSxZQUNpQixJQUFJSixVQUNWNEIiLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZ1bmN0aW9uIE5ld3NMaXN0KCkge1xyXG5cclxufVxyXG5cclxuTmV3c0xpc3QucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoJy5zdWJtaXQtYnRuJyk7XHJcbiAgICB2YXIgdGV4dGFyZWEgPSAkKFwidGV4dGFyZWFbbmFtZT0nY29tbWVudCddXCIpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IHRleHRhcmVhLnZhbCgpO1xyXG4gICAgICAgIHZhciBuZXdzX2lkID0gc3VibWl0QnRuLmF0dHIoJ2RhdGEtbmV3cy1pZCcpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvcHVibGljX2NvbW1lbnQvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50JzogY29udGVudCxcclxuICAgICAgICAgICAgICAgICduZXdzX2lkJzogbmV3c19pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PT0nKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ2NvbW1lbnQtaXRlbScse1wiY29tbWVudFwiOmNvbW1lbnR9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudExpc3RHcm91cCA9ICQoXCIuY29tbWVudC1saXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbW1lbnRMaXN0R3JvdXApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0R3JvdXAucHJlcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfor4Torrrlj5HooajmiJDlip/vvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS52YWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbk5ld3NMaXN0LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmV3c0xpc3QgPSBuZXcgTmV3c0xpc3QoKTtcclxuICAgIG5ld3NMaXN0LnJ1bigpO1xyXG59KTsiXX0=
